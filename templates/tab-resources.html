<ion-view view-title="Resources">
  <ion-content on-swipe-right="goBack()" on-swipe-left="goForward()">

<ion-list>
        

        <!--<ion-item ng-repeat="sermon in preachingList | filter:query | orgFilter | orderBy:sortingBy" ng-click="playNow({{sermon}})" data-tap-disabled="true" class="item-thumbnail-left item-icon-right amazingaudioplayer-card">
         |  filter:query | orgFilter  |  filter:query | orgFilter -->
        <ion-item ng-repeat="resource in resourceList" class="item-icon-right resource-card" ng-controller="DlButtonCtrl as dl">
            <div style="display:none">{{teacher = (settings.speakerList | filter : {id: resource.teacher_id})[0];
            org = (settings.orgList | filter : {id: resource.organization_id})[0];}}</div>
	        <row>
	            <div class="preacher-img col-25" style="background-image:url({{teacher.photo}})"/>
	                <img src="{{org.photo}}" class="org-img"/>
	            </div>
	            <i ng-click="dl.addDownload(resource, 'resource')" class="icon ion-ios-download" style="padding-right:30px"></i>
	            <h2 ng-if="settings.lang =='en'" ng-click="resourceOpen(resource)">{{resource.en_name}}</h2>
	            <h2 ng-if="settings.lang =='pt'" ng-click="resourceOpen(resource)">{{resource.pt_name}}</h2>
	            <!--Author Line -->
	            <a class="teacher-name" href="#/tab/resources/speaker-{{resource.teacher_id}}" ng-if="settings.lang =='pt'">{{teacher.pt_name}}<br/></a>
	            <a class="teacher-name" href="#/tab/resources/speaker-{{resource.teacher_id}}" ng-if="settings.lang =='en'">{{teacher.en_name}}<br/></a>
	            <br/>

	            <!--Language Line-->
	            <p class="language-display" ng-if="settings.lang == 'en'">{{settings.languages[resource.primary_language_id].en_language}} <i ng-if="sermon.secondary_language_id">/</i> {{settings.languages[resource.secondary_language_id].en_language}} <!--{{sermon.hits}}--></p>
	            <p class="language-display" ng-if="settings.lang == 'pt'">{{settings.languages[resource.primary_language_id].pt_language}} <i ng-if="sermon.secondary_language_id">/</i> {{settings.languages[resource.secondary_language_id].pt_language}} <!--{{sermon.hits}}--></p>

	            <div class="resource-description item-text-wrap item-icon-right" ng-if="settings.lang == 'en'"><p>{{resource.en_description | limitTo: 200}}{{resource.en_description.length > 200 ? '...' : ''}}</p></div>
				<div class="resource-description item-text-wrap item-icon-right" ng-if="settings.lang == 'pt'"><p>{{resource.pt_description | limitTo: 200}}{{resource.pt_description.length > 200 ? '...' : ''}}</p></div>
        	</row>
        </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
